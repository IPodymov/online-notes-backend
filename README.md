# Electronic Document Management Backend

–°–µ—Ä–≤–µ—Ä–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–º–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏ –≤ —à–∫–æ–ª–µ. –°–∏—Å—Ç–µ–º–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç —É—á–∏—Ç–µ–ª—è–º, –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏ —Ä–æ–¥–∏—Ç–µ–ª—è–º –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ —Å–∏—Å—Ç–µ–º—É –∑–∞–ø–∏—Å–æ–∫ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

[![Dart](https://img.shields.io/badge/language-Dart-0175C2?logo=dart)](https://dart.dev)
[![Shelf](https://img.shields.io/badge/framework-Shelf-1f9adc)](https://pub.dev/packages/shelf)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏** - —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è–º–∏
- ‚úÖ **–°–∏—Å—Ç–µ–º–∞ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π** - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Å—ã–ª–æ–∫ —Å –ø—Ä–µ–¥–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º–∏ —Ä–æ–ª—è–º–∏
- ‚úÖ **–°–∏—Å—Ç–µ–º–∞ –∑–∞–ø–∏—Å–æ–∫** - –æ—Ç–ø—Ä–∞–≤–∫–∞ –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–ø–∏—Å–æ–∫ –º–µ–∂–¥—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- ‚úÖ **–†–æ–ª–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç—É–ø–∞** - admin, schoolAdmin, classTeacher, parent, student
- ‚úÖ **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ MongoDB –∏ In-Memory —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
- ‚úÖ **REST API** - –ø–æ–ª–Ω—ã–π REST API –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏
- ‚úÖ **CORS –ø–æ–¥–¥–µ—Ä–∂–∫–∞** - –∫—Ä–æ—Å—Å–¥–æ–º–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
- ‚úÖ **Clean Architecture** - –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–∞—è –∏ —Ç–µ—Å—Ç–∏—Ä—É–µ–º–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- ‚úÖ **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ—à–∏–±–æ–∫


## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Dart SDK 3.0.0 –∏–ª–∏ –≤—ã—à–µ

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**

   ```bash
   dart pub get
   ```

2. **–°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –∫–æ–¥ JSON —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏**

   ```bash
   dart run build_runner build
   ```

3. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä**
   ```bash
   dart bin/server.dart
   ```

–°–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ `http://localhost:8080`

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **[–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫](./docs/setup.md)** - –ø–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ
- **[API –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫](./docs/api_reference.md)** - –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤—Å–µ—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤
- **[–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](./docs/architecture.md)** - –æ–ø–∏—Å–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏ –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –∫–æ–¥–∞

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ü—Ä–æ–µ–∫—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –æ—Å–Ω–æ–≤–µ **Clean Architecture**:

```
HTTP Requests
    ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  API Layer       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Services Layer   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Domain Layer     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Data Layer      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## üìã –û—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
         |
| ------ | ----------------- | ------------------------ |
| POST   | `/users/register` | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è              |
| POST   | `/users/invite`   | –°–æ–∑–¥–∞—Ç—å –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ      |
| POST   | `/users/login`    | –í—Ö–æ–¥                     |
| GET    | `/users/`         | –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ—Ö            |
| GET    | `/users/{id}`     | –ü–æ–ª—É—á–∏—Ç—å –æ–¥–Ω–æ–≥–æ          |
| PATCH  | `/users/{id}/role`| –ò–∑–º–µ–Ω–∏—Ç—å —Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è|
| GET    | `/users/{id}`     | –ü–æ–ª—É—á–∏—Ç—å –æ–¥–Ω–æ–≥–æ |
| PUT    | `/users/{id}`     | –û–±–Ω–æ–≤–∏—Ç—å        |
| DELETE | `/users/{id}`     | –£–¥–∞–ª–∏—Ç—å         |

### –ó–∞–ø–∏—Å–∫–∏

| –ú–µ—Ç–æ–¥  | URL                    | –û–ø–∏—Å–∞–Ω–∏–µ                      |
| ------ | ---------------------- | ----------------------------- |
| POST   | `/notes/`              | –°–æ–∑–¥–∞—Ç—å                       |
| GET    | `/notes/user/{userId}` | –ü–æ–ª—É—á–∏—Ç—å –∑–∞–ø–∏—Å–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| PUT    | `/notes/{id}/read`     | –û—Ç–º–µ—Ç–∏—Ç—å –∫–∞–∫ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—É—é      |
| DELETE | `/notes/{id}`          | –£–¥–∞–ª–∏—Ç—å                       |

## üíª –ü—Ä–∏–º–µ—Ä—ã

### –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

```bash
curl -X POST http://localhost:8080/users/register \
  -H "Content-Type: application/json" \
  -d '{
    "username": "teacher1",
    "password": "password123",
    "name": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á",
    "role": "classTeacher"
  }'
```

### –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∫–∏

```bash
curl -X POST http://localhost:8080/notes/ \
  -H "Content-Type: application/json" \
  -d '{
    "content": "–°–æ–±—Ä–∞–Ω–∏–µ —Å–æ—Å—Ç–æ–∏—Ç—Å—è –≤ 18:00",
    "senderId": "uuid-—É—á–∏—Ç–µ–ª—è",
    "receiverId": "uuid-—Ä–æ–¥–∏—Ç–µ–ª—è"
  }'
```

## üõ†Ô∏è –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –ö–æ–º–∞–Ω–¥—ã

```bash
dart analyze          # –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—à–∏–±–æ–∫
dart format lib bin   # –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
dart test            # –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
```

## üîß –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ `.env` —Ñ–∞–π–ª:

```env
PORT=8080
MONGO_URL=mongodb://localhost:27017/electronic_documents
LOG_LEVEL=INFO
```

## üì¶ –û—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- `shelf` - –≤–µ–±-—Å–µ—Ä–≤–µ—Ä
- `shelf_router` - –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è
- `json_serializable` - JSON —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è
- `uuid` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è UUID
- `mongo_dart` - –¥—Ä–∞–π–≤–µ—Ä MongoDB
- `shelf_cors_headers` - CORS –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- `dotenv` - –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

## üê≥ Docker

```bash
docker build -t electronic-doc-backend .
docker run -p 8080:8080 -e PORT=8080 electronic-doc-backend
```

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - —Å–º. [LICENSE](LICENSE)

## üë§ –ê–≤—Ç–æ—Ä

–ò–≤–∞–Ω –ü–æ–¥—ã–º–æ–≤

## ü§ù –í–∫–ª–∞–¥

–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è pull requests!

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é](./docs/)
- –°–º–æ—Ç—Ä–∏—Ç–µ [—Ä–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º](./docs/setup.md)

## üö¶ –°—Ç–∞—Ç—É—Å

- ‚úÖ –ë–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –≥–æ—Ç–æ–≤–∞
- üîÑ –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
- üìÖ –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ tests

## üìÑ –°—Å—ã–ª–∫–∏

- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Dart](https://dart.dev/docs)
- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Shelf](https://pub.dev/packages/shelf)
- [REST API Best Practices](https://restfulapi.net/)

---

**–ù–∞—á–Ω–∏—Ç–µ:**

- –ù–æ–≤–∏—á–∫–∏: [docs/setup.md](./docs/setup.md)
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: [docs/architecture.md](./docs/architecture.md)
- API: [docs/api_reference.md](./docs/api_reference.md)
